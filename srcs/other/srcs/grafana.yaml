rbac:
  create: true
  pspEnabled: true
  pspUseAppArmor: true
  namespaced: false
  extraRoleRules: []
  extraClusterRoleRules: []
serviceAccount:
  create: true
  name:
  nameTest:

replicas: 1

podDisruptionBudget: {}

deploymentStrategy:
  type: RollingUpdate

readinessProbe:
  httpGet:
    path: /api/health
    port: 3000

livenessProbe:
  httpGet:
    path: /api/health
    port: 3000
  initialDelaySeconds: 60
  timeoutSeconds: 30
  failureThreshold: 10

image:
  repository: grafana/grafana
  tag: 6.5.1
  pullPolicy: IfNotPresent

testFramework:
  enabled: false
  image: "dduportal/bats"
  tag: "0.4.0"
  securityContext: {}

securityContext:
  runAsUser: 472
  fsGroup: 472


extraConfigmapMounts: []
extraEmptyDirMounts: []

downloadDashboardsImage:
  repository: appropriate/curl
  tag: latest
  pullPolicy: IfNotPresent

downloadDashboards:
  env: {}

podPortName: grafana

service:
  type: NodePort
  port: 3000
  nodePort: 3000
  targetPort: 3000
  annotations:
    kubernetes.io/ingress.class: nginx
  labels: {}
  portName: service

ingress:
  enabled: false
  hosts:
    - graf.ana

resources: {}
nodeSelector: {}
tolerations: []
affinity: {}
extraInitContainers: []
extraContainers: |

persistence:
  type: pvc
  enabled: true
  accessModes:
    - ReadWriteOnce
  size: 100Mi
  finalizers:
    - kubernetes.io/pvc-protection

initChownData:
  enabled: true
  image:
    repository: busybox
    tag: "1.30"
    pullPolicy: IfNotPresent
  resources: {}

adminUser: admin
adminPassword: admin

admin:
  existingSecret: ""
  userKey: admin-user
  passwordKey: admin-password

## Define command to be executed at startup by grafana container
# command:
# - "sh"
# - "/run.sh"

env: {}
envFromSecret: ""
envRenderSecret: {}
extraSecretMounts: []
extraVolumeMounts: []

plugins: []
  # - digrich-bubblechart-panel
  # - grafana-clock-panel

datasources:
  datasources.yaml:
    apiVersion: 1
    datasources:
    - name: InfluxDB
      type: influxdb
      url: http://influxdb.default:8086
      access: proxy
      isDefault: true
      user: admin
      password: admin
      database: telegraf

notifiers: {}

dashboardProviders:
  dashboardproviders.yaml:
    apiVersion: 1
    providers:
    - name: 'default'
      orgId: 1
      folder: ''
      type: file
      disableDeletion: false
      editable: true
      options:
        path: /var/lib/grafana/dashboards/default

## ref: https://grafana.com/dashboards
dashboards:
  default:
    system-metrics:
      gnetId: 5955
      revision: 1
      datasource: InfluxDB
    mysql-metrics:
      gnetId: 1177
      revision: 1
      datasource: InfluxDB
    nginx-metrics:
      json: |
        {"annotations":{"list":[{"builtIn":1,"datasource":"InfluxDB","enable":false,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"description":"Performance metrics for Nginx","editable":true,"gnetId":8531,"graphTooltip":0,"id":2,"iteration":1575895738269,"links":[],"panels":[{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":52,"panels":[],"title":"NGINX SERVICE STATUS","type":"row"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":0,"y":1},"id":49,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"services_stats","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["status"],"type":"field"},{"params":[],"type":"first"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"service","operator":"=","value":"nginx.service"}]}],"thresholds":"3,4","title":"NGINX STATUS","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"Up","value":"1"},{"op":"=","text":"Down","value":"3"},{"op":"=","text":"Failed","value":"4"},{"op":"=","text":"Other","value":"0"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","decimals":1,"format":"s","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":4,"y":1},"id":50,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"services_stats","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["status_time"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"service","operator":"=","value":"nginx.service"}]}],"thresholds":"3,4","title":"NGINX STATUS TIME","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"","value":""}],"valueName":"current"},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":4},"id":13,"panels":[],"repeat":"host","scopedVars":{"host":{"selected":true,"text":"nginx-server","value":"nginx-server"}},"title":"NGINX RESPONSE CODES","type":"row"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","decimals":null,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":0,"y":5},"id":53,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"nginx-server","value":"nginx-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^*/"}]}],"thresholds":"3,4","title":"NGINX TOTAL REQUESTS","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"","value":""}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#3f6833","#967302","#bf1b00"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":4,"y":5},"hideTimeOverride":false,"id":36,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"nginx-server","value":"nginx-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '200') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"200"}]}],"thresholds":"3000,10000,40000","timeFrom":null,"timeShift":null,"title":"HTTP 200 (OK)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":8,"y":5},"id":40,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"nginx-server","value":"nginx-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"400"}]}],"thresholds":"10,50,100","title":"HTTP 400 (Bad Request)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":12,"y":5},"id":45,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"nginx-server","value":"nginx-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"401"}]}],"thresholds":"10,30,80","title":"HTTP 401 (Unauthorized)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":16,"y":5},"id":39,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"nginx-server","value":"nginx-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"403"}]}],"thresholds":"","title":"HTTP 403 (Forbidden)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":20,"y":5},"id":42,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"nginx-server","value":"nginx-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"404"}]}],"thresholds":"","title":"HTTP 404 (Not Found)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":0,"y":8},"id":54,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"nginx-server","value":"nginx-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"405"}]}],"thresholds":"10,30,80","title":"HTTP  405 (Method Not Allowed)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":4,"y":8},"id":41,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"nginx-server","value":"nginx-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"500"}]}],"thresholds":"10,30,80","title":"HTTP 500 (Internal Server Error)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":8,"y":8},"id":55,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"nginx-server","value":"nginx-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"502"}]}],"thresholds":"10,30,80","title":"HTTP 502 (Bad Gateway)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":12,"y":8},"id":56,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"nginx-server","value":"nginx-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"301"}]}],"thresholds":"10,30,80","title":"HTTP 301 (Moved Permanently)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":16,"y":8},"id":57,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"nginx-server","value":"nginx-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"302"}]}],"thresholds":"10,30,80","title":"HTTP 302 (Found)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":20,"y":8},"id":58,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"nginx-server","value":"nginx-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"304"}]}],"thresholds":"10,30,80","title":"HTTP 304 (Not Modified)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":11},"id":62,"panels":[],"title":"NGINX STATUS  METRICS","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":24,"x":0,"y":12},"hiddenSeries":false,"id":60,"legend":{"alignAsTable":true,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":280,"sortDesc":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"Request time 2**","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request_time"],"type":"field"},{"params":[],"type":"first"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^2/"}]},{"alias":"Request time 3**","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","query":"SELECT first(\"request_time\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^3/) AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["request_time"],"type":"field"},{"params":[],"type":"first"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^3/"}]},{"alias":"Request time 4**","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT first(\"request_time\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^4/) AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"C","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"Request time 5**","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT first(\"request_time\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^5/) AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"D","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"REQUEST TIME","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":24,"x":0,"y":18},"hiddenSeries":false,"hideTimeOverride":false,"id":47,"legend":{"alignAsTable":true,"avg":false,"current":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":280,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"HTTP 200","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^2/) AND $timeFilter GROUP BY time($__interval)","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"200"}]},{"alias":"HTTP 400","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '400') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"400"}]},{"alias":"HTTP 401","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '401') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"C","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"HTTP 403","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '403') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"D","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"HTTP 404","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '404') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"E","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"HTTP 500","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '500') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"F","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"HTTP CODE'S","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","decimals":0,"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":24,"x":0,"y":24},"hiddenSeries":false,"id":32,"legend":{"alignAsTable":true,"avg":true,"current":false,"hideEmpty":true,"hideZero":true,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":280,"sort":"total","sortDesc":true,"total":true,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"$tag_verb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["verb"],"type":"tag"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"HTTP REQUESTS METHOD  (count)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"none","label":"","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":24,"x":0,"y":30},"hiddenSeries":false,"id":31,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"hideZero":true,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":280,"sort":"total","sortDesc":true,"total":true,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"HTTP 1xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^1/) AND $timeFilter GROUP BY time($__interval)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^1/"}]},{"alias":"HTTP  2xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"B","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^2/"}]},{"alias":"HTTP  3xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"C","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^3/"}]},{"alias":"HTTP  4xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"D","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^4/"}]},{"alias":"HTTP  5xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"nginx_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"nginx_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"E","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^5/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"HTTP RESPONSE SIZE","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"decbytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":6,"w":24,"x":0,"y":36},"hiddenSeries":false,"id":8,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":false,"rightSide":true,"show":true,"sideWidth":280,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"","dsType":"influxdb","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["accepts"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["accepts"],"type":"alias"}],[{"params":["active"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["active"],"type":"alias"}],[{"params":["handled"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["handled"],"type":"alias"}],[{"params":["reading"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["reading"],"type":"alias"}],[{"params":["requests"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["requests"],"type":"alias"}],[{"params":["waiting"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["waiting"],"type":"alias"}],[{"params":["writing"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["writing"],"type":"alias"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"NGINX STATUS METRICS","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"30s","schemaVersion":21,"style":"dark","tags":["Nginx","InfluxDB","Telegraf"],"templating":{"list":[{"current":{"text":"InfluxDB","value":"InfluxDB"},"datasource":"InfluxDB","hide":0,"includeAll":false,"label":"","multi":false,"name":"datasource","options":[],"query":"influxdb","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"allValue":null,"current":{"text":"nginx-server","value":"nginx-server"},"datasource":"InfluxDB","definition":"","hide":0,"includeAll":false,"label":null,"multi":true,"name":"host","options":[],"query":"SHOW TAG VALUES FROM \"nginx_access_log\" WITH KEY = \"host\"","refresh":1,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-1h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"NGINX METRICS","uid":"a","version":1}
    wordpress-metrics:
      json: |
        {"annotations":{"list":[{"builtIn":1,"datasource":"InfluxDB","enable":false,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"description":"Performance metrics for Nginx","editable":true,"gnetId":8531,"graphTooltip":0,"id":2,"iteration":1575895738269,"links":[],"panels":[{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":52,"panels":[],"title":"NGINX SERVICE STATUS","type":"row"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":0,"y":1},"id":49,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"services_stats","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["status"],"type":"field"},{"params":[],"type":"first"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"service","operator":"=","value":"nginx.service"}]}],"thresholds":"3,4","title":"NGINX STATUS","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"Up","value":"1"},{"op":"=","text":"Down","value":"3"},{"op":"=","text":"Failed","value":"4"},{"op":"=","text":"Other","value":"0"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","decimals":1,"format":"s","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":4,"y":1},"id":50,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"services_stats","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["status_time"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"service","operator":"=","value":"nginx.service"}]}],"thresholds":"3,4","title":"NGINX STATUS TIME","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"","value":""}],"valueName":"current"},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":4},"id":13,"panels":[],"repeat":"host","scopedVars":{"host":{"selected":true,"text":"wordpress-server","value":"wordpress-server"}},"title":"NGINX RESPONSE CODES","type":"row"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","decimals":null,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":0,"y":5},"id":53,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"wordpress-server","value":"wordpress-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^*/"}]}],"thresholds":"3,4","title":"NGINX TOTAL REQUESTS","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"","value":""}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#3f6833","#967302","#bf1b00"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":4,"y":5},"hideTimeOverride":false,"id":36,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"wordpress-server","value":"wordpress-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '200') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"200"}]}],"thresholds":"3000,10000,40000","timeFrom":null,"timeShift":null,"title":"HTTP 200 (OK)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":8,"y":5},"id":40,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"wordpress-server","value":"wordpress-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"400"}]}],"thresholds":"10,50,100","title":"HTTP 400 (Bad Request)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":12,"y":5},"id":45,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"wordpress-server","value":"wordpress-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"401"}]}],"thresholds":"10,30,80","title":"HTTP 401 (Unauthorized)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":16,"y":5},"id":39,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"wordpress-server","value":"wordpress-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"403"}]}],"thresholds":"","title":"HTTP 403 (Forbidden)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":20,"y":5},"id":42,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"wordpress-server","value":"wordpress-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"404"}]}],"thresholds":"","title":"HTTP 404 (Not Found)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":0,"y":8},"id":54,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"wordpress-server","value":"wordpress-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"405"}]}],"thresholds":"10,30,80","title":"HTTP  405 (Method Not Allowed)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":4,"y":8},"id":41,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"wordpress-server","value":"wordpress-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"500"}]}],"thresholds":"10,30,80","title":"HTTP 500 (Internal Server Error)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":8,"y":8},"id":55,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"wordpress-server","value":"wordpress-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"502"}]}],"thresholds":"10,30,80","title":"HTTP 502 (Bad Gateway)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":12,"y":8},"id":56,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"wordpress-server","value":"wordpress-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"301"}]}],"thresholds":"10,30,80","title":"HTTP 301 (Moved Permanently)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":16,"y":8},"id":57,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"wordpress-server","value":"wordpress-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"302"}]}],"thresholds":"10,30,80","title":"HTTP 302 (Found)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":20,"y":8},"id":58,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"wordpress-server","value":"wordpress-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"304"}]}],"thresholds":"10,30,80","title":"HTTP 304 (Not Modified)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":11},"id":62,"panels":[],"title":"NGINX STATUS  METRICS","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":24,"x":0,"y":12},"hiddenSeries":false,"id":60,"legend":{"alignAsTable":true,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":280,"sortDesc":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"Request time 2**","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request_time"],"type":"field"},{"params":[],"type":"first"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^2/"}]},{"alias":"Request time 3**","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","query":"SELECT first(\"request_time\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^3/) AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["request_time"],"type":"field"},{"params":[],"type":"first"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^3/"}]},{"alias":"Request time 4**","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT first(\"request_time\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^4/) AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"C","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"Request time 5**","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT first(\"request_time\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^5/) AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"D","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"REQUEST TIME","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":24,"x":0,"y":18},"hiddenSeries":false,"hideTimeOverride":false,"id":47,"legend":{"alignAsTable":true,"avg":false,"current":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":280,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"HTTP 200","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^2/) AND $timeFilter GROUP BY time($__interval)","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"200"}]},{"alias":"HTTP 400","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '400') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"400"}]},{"alias":"HTTP 401","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '401') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"C","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"HTTP 403","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '403') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"D","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"HTTP 404","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '404') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"E","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"HTTP 500","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '500') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"F","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"HTTP CODE'S","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","decimals":0,"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":24,"x":0,"y":24},"hiddenSeries":false,"id":32,"legend":{"alignAsTable":true,"avg":true,"current":false,"hideEmpty":true,"hideZero":true,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":280,"sort":"total","sortDesc":true,"total":true,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"$tag_verb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["verb"],"type":"tag"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"HTTP REQUESTS METHOD  (count)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"none","label":"","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":24,"x":0,"y":30},"hiddenSeries":false,"id":31,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"hideZero":true,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":280,"sort":"total","sortDesc":true,"total":true,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"HTTP 1xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^1/) AND $timeFilter GROUP BY time($__interval)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^1/"}]},{"alias":"HTTP  2xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"B","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^2/"}]},{"alias":"HTTP  3xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"C","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^3/"}]},{"alias":"HTTP  4xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"D","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^4/"}]},{"alias":"HTTP  5xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"wordpress_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"wordpress_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"E","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^5/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"HTTP RESPONSE SIZE","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"decbytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":6,"w":24,"x":0,"y":36},"hiddenSeries":false,"id":8,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":false,"rightSide":true,"show":true,"sideWidth":280,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"","dsType":"influxdb","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["accepts"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["accepts"],"type":"alias"}],[{"params":["active"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["active"],"type":"alias"}],[{"params":["handled"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["handled"],"type":"alias"}],[{"params":["reading"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["reading"],"type":"alias"}],[{"params":["requests"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["requests"],"type":"alias"}],[{"params":["waiting"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["waiting"],"type":"alias"}],[{"params":["writing"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["writing"],"type":"alias"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"NGINX STATUS METRICS","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"30s","schemaVersion":21,"style":"dark","tags":["Nginx","InfluxDB","Telegraf"],"templating":{"list":[{"current":{"text":"InfluxDB","value":"InfluxDB"},"datasource":"InfluxDB","hide":0,"includeAll":false,"label":"","multi":false,"name":"datasource","options":[],"query":"influxdb","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"allValue":null,"current":{"text":"wordpress-server","value":"wordpress-server"},"datasource":"InfluxDB","definition":"","hide":0,"includeAll":false,"label":null,"multi":true,"name":"host","options":[],"query":"SHOW TAG VALUES FROM \"wordpress_access_log\" WITH KEY = \"host\"","refresh":1,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-1h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"Wordpress METRICS","uid":"b","version":1}
    phpmyadmin-metrics:
      json: |
        {"annotations":{"list":[{"builtIn":1,"datasource":"InfluxDB","enable":false,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"description":"Performance metrics for Nginx","editable":true,"gnetId":8531,"graphTooltip":0,"id":2,"iteration":1575895738269,"links":[],"panels":[{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":52,"panels":[],"title":"NGINX SERVICE STATUS","type":"row"},{"cacheTimeout":null,"colorBackground":true,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":0,"y":1},"id":49,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"services_stats","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["status"],"type":"field"},{"params":[],"type":"first"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"service","operator":"=","value":"nginx.service"}]}],"thresholds":"3,4","title":"NGINX STATUS","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"Up","value":"1"},{"op":"=","text":"Down","value":"3"},{"op":"=","text":"Failed","value":"4"},{"op":"=","text":"Other","value":"0"}],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","decimals":1,"format":"s","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":4,"y":1},"id":50,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"services_stats","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["status_time"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"service","operator":"=","value":"nginx.service"}]}],"thresholds":"3,4","title":"NGINX STATUS TIME","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"","value":""}],"valueName":"current"},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":4},"id":13,"panels":[],"repeat":"host","scopedVars":{"host":{"selected":true,"text":"phpmyadmin-server","value":"phpmyadmin-server"}},"title":"NGINX RESPONSE CODES","type":"row"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","decimals":null,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":0,"y":5},"id":53,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"phpmyadmin-server","value":"phpmyadmin-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^*/"}]}],"thresholds":"3,4","title":"NGINX TOTAL REQUESTS","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"","value":""}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#3f6833","#967302","#bf1b00"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":4,"y":5},"hideTimeOverride":false,"id":36,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"phpmyadmin-server","value":"phpmyadmin-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '200') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"200"}]}],"thresholds":"3000,10000,40000","timeFrom":null,"timeShift":null,"title":"HTTP 200 (OK)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":8,"y":5},"id":40,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"phpmyadmin-server","value":"phpmyadmin-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"400"}]}],"thresholds":"10,50,100","title":"HTTP 400 (Bad Request)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":12,"y":5},"id":45,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"phpmyadmin-server","value":"phpmyadmin-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"401"}]}],"thresholds":"10,30,80","title":"HTTP 401 (Unauthorized)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":16,"y":5},"id":39,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"phpmyadmin-server","value":"phpmyadmin-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"403"}]}],"thresholds":"","title":"HTTP 403 (Forbidden)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":20,"y":5},"id":42,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"phpmyadmin-server","value":"phpmyadmin-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"404"}]}],"thresholds":"","title":"HTTP 404 (Not Found)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":0,"y":8},"id":54,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"phpmyadmin-server","value":"phpmyadmin-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"405"}]}],"thresholds":"10,30,80","title":"HTTP  405 (Method Not Allowed)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":4,"y":8},"id":41,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"phpmyadmin-server","value":"phpmyadmin-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"500"}]}],"thresholds":"10,30,80","title":"HTTP 500 (Internal Server Error)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":8,"y":8},"id":55,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"phpmyadmin-server","value":"phpmyadmin-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"502"}]}],"thresholds":"10,30,80","title":"HTTP 502 (Bad Gateway)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":12,"y":8},"id":56,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"phpmyadmin-server","value":"phpmyadmin-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"301"}]}],"thresholds":"10,30,80","title":"HTTP 301 (Moved Permanently)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":16,"y":8},"id":57,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"phpmyadmin-server","value":"phpmyadmin-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"302"}]}],"thresholds":"10,30,80","title":"HTTP 302 (Found)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["#299c46","rgba(237, 129, 40, 0.89)","#d44a3a"],"datasource":"InfluxDB","format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"gridPos":{"h":3,"w":4,"x":20,"y":8},"id":58,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"nullPointMode":"connected","nullText":null,"options":{},"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[{"from":"null","text":"N/A","to":"null"}],"scopedVars":{"host":{"selected":true,"text":"phpmyadmin-server","value":"phpmyadmin-server"}},"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"tableColumn":"","targets":[{"groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"304"}]}],"thresholds":"10,30,80","title":"HTTP 304 (Not Modified)","type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"0","value":"null"}],"valueName":"total"},{"collapsed":false,"datasource":null,"gridPos":{"h":1,"w":24,"x":0,"y":11},"id":62,"panels":[],"title":"NGINX STATUS  METRICS","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":24,"x":0,"y":12},"hiddenSeries":false,"id":60,"legend":{"alignAsTable":true,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":280,"sortDesc":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"Request time 2**","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["request_time"],"type":"field"},{"params":[],"type":"first"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^2/"}]},{"alias":"Request time 3**","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","query":"SELECT first(\"request_time\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^3/) AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["request_time"],"type":"field"},{"params":[],"type":"first"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^3/"}]},{"alias":"Request time 4**","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT first(\"request_time\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^4/) AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"C","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"Request time 5**","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT first(\"request_time\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^5/) AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"D","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"REQUEST TIME","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"s","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":24,"x":0,"y":18},"hiddenSeries":false,"hideTimeOverride":false,"id":47,"legend":{"alignAsTable":true,"avg":false,"current":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":280,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"HTTP 200","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^2/) AND $timeFilter GROUP BY time($__interval)","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"200"}]},{"alias":"HTTP 400","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '400') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"B","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=","value":"400"}]},{"alias":"HTTP 401","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '401') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"C","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"HTTP 403","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '403') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"D","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"HTTP 404","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '404') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"E","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"HTTP 500","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["null"],"type":"fill"}],"orderByTime":"ASC","policy":"default","query":"SELECT count(\"request\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" = '500') AND $timeFilter GROUP BY time($__interval) fill(null)","rawQuery":true,"refId":"F","resultFormat":"time_series","select":[[{"params":["value"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"HTTP CODE'S","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","decimals":0,"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":24,"x":0,"y":24},"hiddenSeries":false,"id":32,"legend":{"alignAsTable":true,"avg":true,"current":false,"hideEmpty":true,"hideZero":true,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":280,"sort":"total","sortDesc":true,"total":true,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"$tag_verb","groupBy":[{"params":["$__interval"],"type":"time"},{"params":["verb"],"type":"tag"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["request"],"type":"field"},{"params":[],"type":"count"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"HTTP REQUESTS METHOD  (count)","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"decimals":null,"format":"none","label":"","logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","fill":1,"fillGradient":0,"gridPos":{"h":6,"w":24,"x":0,"y":30},"hiddenSeries":false,"id":31,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":true,"hideZero":true,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":280,"sort":"total","sortDesc":true,"total":true,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"HTTP 1xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/ AND \"resp_code\" =~ /^1/) AND $timeFilter GROUP BY time($__interval)","rawQuery":true,"refId":"A","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^1/"}]},{"alias":"HTTP  2xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"B","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^2/"}]},{"alias":"HTTP  3xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"C","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^3/"}]},{"alias":"HTTP  4xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"D","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^4/"}]},{"alias":"HTTP  5xx","groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"phpmyadmin_access_log","orderByTime":"ASC","policy":"default","query":"SELECT mean(\"resp_bytes\") FROM \"phpmyadmin_access_log\" WHERE (\"host\" =~ /^$host$/) AND $timeFilter GROUP BY time($__interval), \"host\", \"resp_code\" fill(null) SLIMIT 10","rawQuery":false,"refId":"E","resultFormat":"time_series","select":[[{"params":["resp_bytes"],"type":"field"},{"params":[],"type":"mean"}]],"slimit":"","tags":[{"key":"host","operator":"=~","value":"/^$host$/"},{"condition":"AND","key":"resp_code","operator":"=~","value":"/^5/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"HTTP RESPONSE SIZE","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"decbytes","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"InfluxDB","editable":true,"error":false,"fill":1,"fillGradient":0,"grid":{},"gridPos":{"h":6,"w":24,"x":0,"y":36},"hiddenSeries":false,"id":8,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":false,"rightSide":true,"show":true,"sideWidth":280,"sort":"current","sortDesc":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"dataLinks":[]},"percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"","dsType":"influxdb","groupBy":[{"params":["$interval"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"nginx","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["accepts"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["accepts"],"type":"alias"}],[{"params":["active"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["active"],"type":"alias"}],[{"params":["handled"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["handled"],"type":"alias"}],[{"params":["reading"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["reading"],"type":"alias"}],[{"params":["requests"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["requests"],"type":"alias"}],[{"params":["waiting"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["waiting"],"type":"alias"}],[{"params":["writing"],"type":"field"},{"params":[],"type":"mean"},{"params":["10s"],"type":"non_negative_derivative"},{"params":["writing"],"type":"alias"}]],"tags":[{"key":"host","operator":"=~","value":"/^$host$/"}]}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"NGINX STATUS METRICS","tooltip":{"msResolution":false,"shared":true,"sort":0,"value_type":"cumulative"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}],"yaxis":{"align":false,"alignLevel":null}}],"refresh":"30s","schemaVersion":21,"style":"dark","tags":["Nginx","InfluxDB","Telegraf"],"templating":{"list":[{"current":{"text":"InfluxDB","value":"InfluxDB"},"datasource":"InfluxDB","hide":0,"includeAll":false,"label":"","multi":false,"name":"datasource","options":[],"query":"influxdb","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"allValue":null,"current":{"text":"phpmyadmin-server","value":"phpmyadmin-server"},"datasource":"InfluxDB","definition":"","hide":0,"includeAll":false,"label":null,"multi":true,"name":"host","options":[],"query":"SHOW TAG VALUES FROM \"phpmyadmin_access_log\" WITH KEY = \"host\"","refresh":1,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-1h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"Phpmyadmin METRICS","uid":"c","version":1}

dashboardsConfigMaps: {}

grafana.ini:
  paths:
    data: /var/lib/grafana/data
    logs: /var/log/grafana
    plugins: /var/lib/grafana/plugins
    provisioning: /etc/grafana/provisioning
  analytics:
    check_for_updates: true
  log:
    mode: console
  grafana_net:
    url: https://grafana.net
  server:
    root_url: "http://graf.ana/grafana"
    serve_from_sub_path: true

smtp:
  existingSecret: ""
  userKey: "user"
  passwordKey: "password"
